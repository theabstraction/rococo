<html>
	<head>
		<title>SEXML 1.0 Specification</title>
		<style>
			body {
				background-color: lightyellow;
				margin-left: 128px;
			}
			h1 {
				color: blue;
				text-align: center;
			}
			p {
				font-size: 18px;
				color: gray;
				max-width: 920
			}
			img {
				margin-top: 20px;
				margin-bottom: 80px;
			}
			#colour_coldesc
			{
				padding-right: 10px;
				border: 1px solid black;
			}
			#colour_name
			{
				padding-right: 20px;
				background-color: white;
				border: 1px solid black;
			}
			#colour_surface
			{
				padding-right: 20px;
				background-color: lightgray;
				border: 1px solid black;
			}
			#colour_comment
			{
				padding-right: 20px;
				background-color: white;
				border: 1px solid black;
			}
			#colour_table
			{
				border: 1px solid black;
				border-collapse: collapse;
				background-color: lightgreen;
			}
			#colour_row
			{
				border: 1px solid black;
			}
		</style>
	</head>
  <body>
	<h1>GreatSex SEXML 1.0 Specification</h1>
	<div>
		<h2>Introduction</h2>
	</div>
	<div>
		<p>
		GreatSex is the SEXML file-format for specifying the widget layout in the Rococo GUI system. Familiarity with the <a href="sexml.html">SEXML specification</a> is required.
		</p>		
	</div>
	<div>
		<h2>Top Level Directives</h2>
	</div>
	<div>
		<ul id="directive_list">
			<li id="directive_item">
				<h3>Insert</h3>	- analagous to a #include directive in C and C++.
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Name-Value Attributes</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
								<b>Path</b> - the string argument gives the ping path to another SEXML script, 
									the expression tree of such is inserted into the SEXML expression
									tree at the corresponding point of definition of the Insert statement.
								</p>
								<p>
									<pre><code>Example: (Path "!tests/greatsex.scheme.sexml")</code></pre>
								</p>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li id="directive_item">
				<h3>Zoom</h3> - there may be a number of competing zoom directives. The directive which defines the highest minimum resolution defines GUI zoom levels			
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Name-Value Attributes</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
								<b>MinWidth</b> - integer argument that defines the minimum horizontal pixel resolution for the zoom directive to apply.
								</p>
							</li>
							<li id="attribute_item">
								<p>
								<b>MinHeight</b> - integer argument that defines the minimum vertical pixel resolution for the zoom directive to apply.
								</p>
							</li>
						</ul>
					</li>
					<li id="attribute_type">
						<h4>Type-Name-Value Attributes</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
								<b>#List Levels ...</b> - with a floating point list that gives legal zoom scales. Range is 1.0 to 100.0. Values must increase left to right.
								</p>
								<p>
									<pre><code>Example: ([] Levels 1.0 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5)</code></pre>
								</p>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li id="directive_item">
				<h3>Scheme</h3>	- defines a colour scheme that applies for a set of user-input states on a hierarchy of GUI widget panels		
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Optional Subdirectives</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
								<b>ApplyTo</b> 
								</p>
								<ul>
									<li id="attribute_type">
										<h4>Type-Name-Value Attributes</h4>
										<ul id="attribute_list">
											<li id="attribute_item">
												<p>
												<b>#List RenderStates ...</b> - combination of boolean flags represented by strings 'pressed', 'focused', 'hovered'. If none apply use 'default'
												The combination determine whether the scheme applies for a given focus and cursor state.
												</p>
												<p>
													<pre><code>Example: (ApplyTo ([] RenderStates pressed focused))</code></pre>
												</p>
											</li>
										</ul>
									</li>
								</ul>
							</li>
							<li id="attribute_item">
								<p>
								<b>{colour-name}</b> - where {colour-name} is any of the text items in the AttributeName coloum of the colour table below in this HTML
								</p>
								<ul>
									<li id="attribute_type">
										<h4>Name-Value Attributes</h4>
										<ul id="attribute_list">
											<li id="attribute_item">
												<p>
													<b>Red</b> - integer between 0 and 255, giving the red intensity of the colour
												</p>
											</li>
											<li id="attribute_item">
												<p>
													<b>Green</b> - integer between 0 and 255, giving the green intensity of the colour
												</p>
											</li>
											<li id="attribute_item">
												<p>
													<b>Blue</b> - integer between 0 and 255, giving the blue intensity of the colour
												</p>
											</li>
											<li id="attribute_item">
												<p>
													<b>Alpha</b> - integer between 0 and 255, giving the alpha intensity of the colour
												</p>
											</li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li id="directive_item">
				<h3>Colour</h3>	- defines a colour, keyed by its Id mandatory attribute
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Attributes</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
								<b>Id [name]</b> - <i>mandatory attribute</i> - the string argument gives the unique name of the colour. Some widget directives can take such a name as a string attribute to determine which colours apply
								</p>
							</li>
							<li id="attribute_item">
								<p>
									<b>#List Unform.RGBA [red] [green] [blue] [alpha]</b> - <i>optional attribute</i> - arguments are 4 integers ranging 0-255, red, green, blue and alpha that apply for all GUI states. Note that if present, then subdirective <b>Spec</b> is superfluous													
								</p>
							</li>
						</ul>
					</li>
					<li id="attribute_type">
					<h4>Optional Subdirectives</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
								<b>Spec</b> - defines what colour applies and under what circumstances
								</p>
								<ul>
									<li id="attribute_type">
										<h4>Mandatory Name-Value Attributes</h4>
										<ul id="attribute_list">
											<li id="attribute_item">
												<p>
													<b>Red</b> - integer between 0 and 255, giving the red intensity of the colour
												</p>
											</li>
											<li id="attribute_item">
												<p>
													<b>Green</b> - integer between 0 and 255, giving the green intensity of the colour
												</p>
											</li>
											<li id="attribute_item">
												<p>
													<b>Blue</b> - integer between 0 and 255, giving the blue intensity of the colour
												</p>
											</li>
											<li id="attribute_item">
												<p>
													<b>Alpha</b> - integer between 0 and 255, giving the alpha intensity of the colour
												</p>
											</li>
										</ul>
									</li>
									<li id="attribute_type">
										<h4>Mandatory Type-Name-Value Attributes</h4>
										<ul id="attribute_list">
											<li id="attribute_item">
												<p>
													<b>#List For ...</b> - combination of boolean flags 'pressed', 'focused' and 'hovered' with 'default' meaning no flags													
												</p>
												<p>
													<pre><code>(For pressed focused))</code></pre>
												</p>
											</li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li id="directive_item">
				<h3>Font</h3>	- defines a font, keyed by its Id mandatory attribute
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Mandatory Attributes</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
								<b>Id [name]</b>  - the string argument gives the unique name of the font. Some widget directives can take such a name as a string attribute to determine which f apply
								</p>
							</li>
							<li id="attribute_item">
								<p>
									<b>Family [family-name]</b> - the argument is a string that identifies the font-family.													
								</p>
							</li>
						</ul>
					</li>
					<li id="attribute_type">
						<h4>Optional Attributes</h4>
						<ul id="attribute_list">
							<li id="attribute_item">
								<p>
									<b>#List Mods ...</b> - list of boolean flags 'Bold' and 'Italic'.													
								</p>
								<p>
									<pre><code>Example: ([] Mods Bold Italic))</code></pre>
								</p>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li id="directive_item">
				<h3>Frame</h3>	- The frame element navigates up the owner branch until the frame is found and then sets the attributes specified in the sexml
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Attributes and Subdirectives</h4>	
						- frames are Widgets, and have the all the base widget attributes and subdirectives. If no Frame element is included in the SEXML then a frame for the GUI still exists, but its attributes are not overriden by the SEXML.
					</li>
				</ul>
			</li>
			<li id="directive_item">
				<h3>Frame.ClientArea</h3> - The frame-client-area element navigates up the owner branch until the frame is found and then sets the attributes of the ClientArea specified in the sexml
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Attributes and Subdirectives</h4>	
						- a frame's client area is a Division Widget, and has the all the attributes and subdirectives of such. If no client-area element is included in the SEXML then the client area for the GUI Frame still exists, but its attributes are not overriden by the SEXML.
					</li>
				</ul>
			</li>
		</ul>
	</div>	
	
	<div>
		<h2>Widget Directives</h2>
		<p> All widgets serve as parent containers to child widgets, and thus all widget directives may have an arbitrary number of widget directives in their subdirective list.</p>
		<p> The exception is the Frame widget, defined at the top-level, which may have children, but no widget may have a Frame as a child. Frames are root widgets only.</p>
		<p> All widgets also have an arbirary list of panel and colour attributes. Panel attribute names begin with the subspace 'Panel'. Colour attribute names begin with the subspace 'Colour'. </p>
		<p> Colour attributes are all name-value pairs with the second argument being the colour id. The id must match the id of top-level-directive (Colour ...) defined in the SEXML or at an insert point.</p>
		<p> A list of all legal 'Colour' names is in the table at the bottom of this HTML document </p>
	</div>
	<div>
		<ul>
			<li id="directive_item">
				<h3>Frame</h3>	- The frame element navigates up the owner branch until the frame is found and then sets the attributes specified in the sexml
				<ul id="attribute_types">
					<li id="attribute_type">
						<h4>Attributes and Subdirectives</h4>	
						- frames are Widgets, and have the all the base widget attributes and subdirectives
					</li>
				</ul>
			</li>
		</ul>
	</div>
	<div>
		<table id="colour_table">
			<tr>
				<td id="colour_coldesc"><b>Attribute Name</b></td>
				<td id="colour_coldesc"><b>EGRSchemeColourSurface</b></td>
				<td id="colour_coldesc"><b>Comment</b></td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Background</td>
				<td id = "colour_surface">BACKGROUND</td>
				<td id = "colour_comment">Background for the root frame widget and viewport widget</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Button</td>
				<td id = "colour_surface">BUTTON</td>
				<td id = "colour_comment">Background colour for buttons and slider bulbs</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Button.Edge.Top.Left</td>
				<td id = "colour_surface">BUTTON_EDGE_TOP_LEFT</td>
				<td id = "colour_comment">Edge colour for left and top of button rectangles</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Button.Edge.Bottom.Right</td>
				<td id = "colour_surface">BUTTON_EDGE_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Edge colour for right and buttom of button rectangles</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Button.Image.Fog</td>
				<td id = "colour_surface">BUTTON_IMAGE_FOG</td>
				<td id = "colour_comment">For buttons with images, this is the translucent overlay colour</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Button.Shadow</td>
				<td id = "colour_surface">BUTTON_SHADOW</td>
				<td id = "colour_comment">Provides the shadow colour behind button text</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Button.Text</td>
				<td id = "colour_surface">BUTTON_TEXT</td>
				<td id = "colour_comment">Provides the colour of button text</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Menu.Button</td>
				<td id = "colour_surface">MENU_BUTTON</td>
				<td id = "colour_comment">In a menu item, determines the background colour</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Menu.Button.Edge.Top.Left</td>
				<td id = "colour_surface">MENU_BUTTON_EDGE_TOP_LEFT</td>
				<td id = "colour_comment">Edge colour for left and top of menu item rectangles</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Menu.Button.Edge.Bottom.Right</td>
				<td id = "colour_surface">MENU_BUTTON_EDGE_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Edge colour for right and bottom of menu item rectangles</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Container.Background</td>
				<td id = "colour_surface">CONTAINER_BACKGROUND</td>
				<td id = "colour_comment">Background colour of control-prompts, divisions, hintboxes, radio-button groups, toolbars and vertical lists</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Container.Top.Left</td>
				<td id = "colour_surface">CONTAINER_TOP_LEFT</td>
				<td id = "colour_comment">Top-left edge colour of control-prompts, game option controls, property editors, divisions, hintboxes, labels, radio-button groups, viewports, toolbars and vertical lists</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Container.Bottom.Right</td>
				<td id = "colour_surface">CONTAINER_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Bottom-right edge colour of control-prompts, game option controls, property editors, divisions, hintboxes, labels, radio-button groups, viewports, toolbars and vertical lists</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Button.Background</td>
				<td id = "colour_surface">SCROLLER_BUTTON_BACKGROUND</td>
				<td id = "colour_comment">Background colour of vertical scroller buttons</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Button.Top.Left</td>
				<td id = "colour_surface">SCROLLER_BUTTON_TOP_LEFT</td>
				<td id = "colour_comment">Top-left edge colour of vertical scroller buttons</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Button.Bottom.Right</td>
				<td id = "colour_surface">SCROLLER_BUTTON_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Bottom-right edge colour of vertical scroller buttons</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Bar.Background</td>
				<td id = "colour_surface">SCROLLER_BAR_BACKGROUND</td>
				<td id = "colour_comment">Background colour of scroller bars</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Bar.Top.Left</td>
				<td id = "colour_surface">SCROLLER_BAR_TOP_LEFT</td>
				<td id = "colour_comment">Top-left edge colour of vertical scroller bar</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Bar.Bottom.Right</td>
				<td id = "colour_surface">SCROLLER_BAR_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Bottom-right edge colour of vertical scroller bar</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Slider.Background</td>
				<td id = "colour_surface">SCROLLER_SLIDER_BACKGROUND</td>
				<td id = "colour_comment">Background colour of scroller slider</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Slider.Top.Left"</td>
				<td id = "colour_surface">SCROLLER_SLIDER_TOP_LEFT</td>
				<td id = "colour_comment">Top-left edge colour of vertical scroller slider</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Scroller.Slider.Bottom.Right</td>
				<td id = "colour_surface">SCROLLER_SLIDER_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Bottom-right edge colour of vertical scroller slider</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Editor</td>
				<td id = "colour_surface">EDITOR</td>
				<td id = "colour_comment">Background colour of an editor widget in edit mode</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Text</td>
				<td id = "colour_surface">TEXT</td>
				<td id = "colour_comment">Text colour for an editor in edit mode, a label, a game option control title, or property editor name-value widgets</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Focus</td>
				<td id = "colour_surface">FOCUS_RECTANGLE</td>
				<td id = "colour_comment">Comment</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.EditText</td>
				<td id = "colour_surface">FOCUS_RECTANGLE</td>
				<td id = "colour_comment">Focus widget highlight colour</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Label</td>
				<td id = "colour_surface">LABEL_BACKGROUND</td>
				<td id = "colour_comment">Background colour for editor widgets in read-only mode, labels, game option titles, and property editor titles</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Label.Shadow</td>
				<td id = "colour_surface">LABEL_SHADOW</td>
				<td id = "colour_comment">Text shadow colour for labels</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Splitter.Background</td>
				<td id = "colour_surface">SPLITTER_BACKGROUND</td>
				<td id = "colour_comment">Background colour for splitter widget</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Splitter.Edge</td>
				<td id = "colour_surface">SPLITTER_EDGE</td>
				<td id = "colour_comment">Edge colour for splitter widget</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Carousel.Text</td>
				<td id = "colour_surface">CAROUSEL_TEXT</td>
				<td id = "colour_comment">Text colour for carousel when not disabled</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Carousel.Background</td>
				<td id = "colour_surface">CAROUSEL_BACKGROUND</td>
				<td id = "colour_comment">Background colour for carousel when not disabled</td>
			</tr>			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Carousel.Top.Left</td>
				<td id = "colour_surface">CAROUSEL_TOP_LEFT</td>
				<td id = "colour_comment">Top-left edge colour of carousel control</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Carousel.Bottom.Right</td>
				<td id = "colour_surface">CAROUSEL_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Bottom-right edge colour of carousel control</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.GameOption.Background</td>
				<td id = "colour_surface">GAME_OPTION_BACKGROUND</td>
				<td id = "colour_comment">Background colour for game option container if not disabled</td>
			</tr>			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.GameOption.Disabled.Background</td>
				<td id = "colour_surface">GAME_OPTION_DISABLED_BACKGROUND</td>
				<td id = "colour_comment">Background colour for game option container if disabled</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.GameOption.Disabled.Text</td>
				<td id = "colour_surface">GAME_OPTION_DISABLED_TEXT</td>
				<td id = "colour_comment">Text colour for disabled option</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.GameOption.Top.Left</td>
				<td id = "colour_surface">GAME_OPTION_TOP_LEFT</td>
				<td id = "colour_comment">Top-left edge colour of game option container</td>
			</tr>			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.GameOption.Bottom.Right</td>
				<td id = "colour_surface">GAME_OPTION_BOTTOM_RIGHT</td>
				<td id = "colour_comment">Bottom-right edge colour of game option container</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.GameOption.ChildSpacer</td>
				<td id = "colour_surface">GAME_OPTION_CHILD_SPACER</td>
				<td id = "colour_comment">Colour of the line below a game option</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Carousel.DropDown</td>
				<td id = "colour_surface">CAROUSEL_DROP_DOWN_BACKGROUND</td>
				<td id = "colour_comment">Scrollable menu background colour for a carousel drop-down</td>
			</tr>			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Carousel.DropDown.Text</td>
				<td id = "colour_surface">CAROUSEL_DROP_DOWN_TEXT</td>
				<td id = "colour_comment">Scrollable menu text colour for a carousel drop-down</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Portrait.Band</td>
				<td id = "colour_surface">PORTRAIT_BAND_COLOUR</td>
				<td id = "colour_comment">The colour of the bands that appear to the sides of the portrait widget when the aspect ratio of the panel does not match the image</td>
			</tr>
			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Slider.Guage</td>
				<td id = "colour_surface">SLIDER_GUAGE</td>
				<td id = "colour_comment">Game option scalar background colour for slider guage</td>
			</tr>			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Slider</td>
				<td id = "colour_surface">SLIDER_BACKGROUND</td>
				<td id = "colour_comment">Slider background colour</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Slider.Slot</td>
				<td id = "colour_surface">SLIDER_SLOT_BACKGROUND</td>
				<td id = "colour_comment">Slider slot background colour</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Slider.Slot.Edge.1</td>
				<td id = "colour_surface">SLIDER_SLOT_EDGE_1</td>
				<td id = "colour_comment">1st edge colour for the slider slot. Results depends on the slider rendering algorithm</td>
			</tr>			
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Slider.Slot.Edge.2</td>
				<td id = "colour_surface">SLIDER_SLOT_EDGE_2</td>
				<td id = "colour_comment">2nd edge colour for the slider slot. Results depends on the slider rendering algorithm</td>
			</tr>
			<tr id = "colour_row">
				<td id = "colour_name">Colour.Occlusion.Surface</td>
				<td id = "colour_surface">OCCLUSION_SURFACE</td>
				<td id = "colour_comment">The colour a scrollable menu uses to mask off the background panels</td>
			</tr>
		</table>
	</div>
  </body>
 </html>