(' #file.type hv.level)

(' #include
	"!scripts/mplat_sxh.sxy"
	"!scripts/hv_sxh.sxy"
	"!scripts/types.sxy"
	"!scripts/hv/hv.types.sxy"
	"!scripts/mplat_types.sxy")

(namespace EntryPoint)
	(alias Main EntryPoint.Main)

(function Main(Int32 id)->(Int32 exitCode) :
	(AddSectorsToLevel)
)

(using HV)
(using Rococo.Graphics)

(function AddSectorsToLevel -> :
	(ISectors sectors (SectorBuilder))

	(sectors.Clear)
	(sectors.DisableMeshGeneration)

	(AddSector0 sectors) // entrance
	(AddSector1 sectors)

	(sectors.EnableMeshGeneration)
	(sectors.GenerateMeshes)
)

(function AddSector0 (ISectors sectors) -> :
	(sectors.AddVertex 2.000000 2.000000)
	(sectors.AddVertex 2.000000 -2.000000)
	(sectors.AddVertex -2.000000 -2.000000)
	(sectors.AddVertex -2.000000 2.000000)

	(sectors.SetTemplateMaterial "brickwork"  (#MaterialCategoryStone) 0xe084be23 "random")
	(sectors.SetTemplateMaterial "cement"     (#MaterialCategoryRock) 0xcf52aed6 "random")
	(sectors.SetTemplateMaterial "floor"      (#MaterialCategoryMarble) 0xeae9bbf1 "random")
	(sectors.SetTemplateMaterial "panels"     (#MaterialCategoryWood) 0xe58bbb43 "random")
	(sectors.SetTemplateMaterial "rails"      (#MaterialCategoryMetal) 0xd1b3de47 "random")
	(sectors.SetTemplateMaterial "mullions"   (#MaterialCategoryMetal) 0xdb0d5e24 "random")
	(sectors.SetTemplateMaterial "ceiling"    (#MaterialCategoryMarble) 0xcb873cdb "random")
	(sectors.SetTemplateMaterial "casing"     (#MaterialCategoryWood) 0xf7097d5a "random")
	(sectors.SetTemplateDoorScript false "")
	(sectors.SetWallScriptF32 "Cell DX" 2.000000)
	(sectors.SetWallScriptF32 "Cell DY" 1.000000)
	(sectors.SetWallScriptF32 "UV Scale" 0.250000)
	(sectors.SetWallScriptF32 "Extrusion" 0.150000)
	(sectors.SetWallScriptF32 "Cement thickness (m)" 0.005000)
	(sectors.SetTemplateWallScript true "#walls/stretch.bricks.sxy")
	(sectors.SetTemplateFloorScript true "")
	(Int32 id = (sectors.CreateFromTemplate 0 400))
)

(function AddSector1 (ISectors sectors) -> :
	(sectors.AddVertex -2.000000 10.000000)
	(sectors.AddVertex 2.000000 10.000000)
	(sectors.AddVertex 4.000000 8.000000)
	(sectors.AddVertex 2.000000 2.000000)
	(sectors.AddVertex -2.000000 2.000000)
	(sectors.AddVertex -4.000000 8.000000)

	(sectors.SetTemplateMaterial "brickwork"  (#MaterialCategoryStone) 0xfbcbd45d "random")
	(sectors.SetTemplateMaterial "cement"     (#MaterialCategoryRock) 0xd23b45f5 "random")
	(sectors.SetTemplateMaterial "floor"      (#MaterialCategoryMarble) 0xeddb1c0a "random")
	(sectors.SetTemplateMaterial "panels"     (#MaterialCategoryWood) 0xe54044f2 "random")
	(sectors.SetTemplateMaterial "rails"      (#MaterialCategoryMetal) 0xecdc497d "random")
	(sectors.SetTemplateMaterial "mullions"   (#MaterialCategoryMetal) 0xf14912fd "random")
	(sectors.SetTemplateMaterial "ceiling"    (#MaterialCategoryRock) 0xbfee509a "random")
	(sectors.SetTemplateMaterial "casing"     (#MaterialCategoryMetal) 0xf1b730c4 "random")
	(sectors.SetWallScriptF32 "Cell DX" 2.000000)
	(sectors.SetWallScriptF32 "Cell DY" 1.000000)
	(sectors.SetWallScriptF32 "UV Scale" 0.250000)
	(sectors.SetWallScriptF32 "Extrusion" 0.150000)
	(sectors.SetWallScriptF32 "Cement thickness (m)" 0.005000)
	(sectors.SetTemplateWallScript true "#walls/stretch.bricks.sxy")
	(sectors.SetTemplateFloorScript false "")
	(Int32 id = (sectors.CreateFromTemplate 0 400))
)

