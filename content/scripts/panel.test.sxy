(' #file.type rococo.mplat.panel)

(' #include 
	"!scripts/mplat_pane_sxh.sxy"
	"!scripts/mplat_types.sxy"
	"!scripts/types.sxy"
)

(namespace EntryPoint)
	(alias Main EntryPoint.Main)
	
(using Rococo)
(using Sys.Maths)

(function SetTransparentBackground (IPane pane)-> :
	(pane.SetColourBk1   0x00000000 0x00000000)
	(pane.SetColourBk2   0x00000000 0x00000000)
	(pane.SetColourEdge1 0x00000000 0x00000000)
	(pane.SetColourEdge2 0x00000000 0x00000000)
)

(function SetDefaultLabelStyle (ILabelPane label)-> :
	(SetTransparentBackground label)
	(label.SetAlignment 1 0 0 0)
)

(function AddLabelAndAttribute (IString text)(IString key)(IPaneContainer container)(Int32 x0)(Int32 y0)(Int32 x1)(Int32 y1)-> :
	(Recti rect = x0 y0 x1 y1)
	(ILabelPane label = (container.AddLabel 8 text rect))
	(label.SetColourFont 0xFFE0E0E0 0xFFFFFFFF)
	(SetDefaultLabelStyle label)
	
	(Int32 x2 = (x1 + 26))
	(Recti attrRect = x1 y0 x2 y1)
	(ITextOutputPane textOut = (container.AddTextOutput 8 key attrRect))
	(SetTransparentBackground textOut)
	(textOut.SetAlignment 1 0 0 0)
)
	
(function Main (Int32 id)->(Int32 exitCode):
	(IPaneBuilder builder (PaneBuilder))
	(IPaneContainer root = builder.Root)
	(Recti button = 20 20 64 112)
	(IPaneContainer p1 = (root.AddContainer button))
	(p1.SetColourBk1   0xFF000000 0xFF000000)
	(p1.SetColourBk2   0xFF000000 0xFF000000)
	
	(Int32 x0 = (button.left + 2))
	(Int32 x1 = (x0 + 110))
	(Int32 y0 = (button.top + 2))
	(Int32 dy = 14)
	(Int32 rowPadding = 0)
	(Int32 y1 = (y0 + dy))
	
	(AddLabelAndAttribute "Strength: " "strength.update.text" root x0 y0 x1 y1)
	
	(y0 = (y0 + rowPadding))
	(y0 = (y0 + dy))
	(y1 = (y0 + dy))
	
	(AddLabelAndAttribute "Linguistics: " "linguistics.update.text" root  x0 y0 x1 y1)
	
	(y0 = (y0 + rowPadding))
	(y0 = (y0 + dy))
	(y1 = (y0 + dy))
	
	(AddLabelAndAttribute "Puissance: " "puissance.update.text" root  x0 y0 x1 y1)
	
	(y0 = (y0 + rowPadding))
	(y0 = (y0 + dy))
	(y1 = (y0 + dy))
	
	(AddLabelAndAttribute "Agility: " "agility.update.text" root  x0 y0 x1 y1)
	
	(y0 = (y0 + rowPadding))
	(y0 = (y0 + dy))
	(y1 = (y0 + dy))
	
	(AddLabelAndAttribute "Resilience: " "resilience.update.text" root  x0 y0 x1 y1)
	
	(y0 = (y0 + rowPadding))
	(y0 = (y0 + dy))
	(y1 = (y0 + dy))
	
	(AddLabelAndAttribute "Beauty: " "beauty.update.text" root  x0 y0 x1 y1)
)