// The schemes are quite large, so we move them into their sexml file, which we insert into the GreatSex def here
(Insert
	(Path "!tests/greatsex.scheme.sexml")
)

// The frame element navigates up the owner branch until the frame is found and then sets the attributes specified in the sexml
(Frame
	(Colour.Container.Background Transparent)
)

// The frame element navigates up the owner branch until the frame is found and then sets the attributes of the ClientArea specified in the sexml
(Frame.ClientArea
	(Colour.Background Transparent)
	(Colour.Container.Background Transparent)
)

// Define a nice large font, keyed by the id.
(Font 
	(Id TitleFont)
	(Family Arial)
	(Height 32)
	([] Mods Bold)
)

(Font 
	(Id OptionButtonFont)
	(Family Arial)
	(Height 24)
	([] Mods Bold)
)

(Font 
	(Id SubOptionTitleFont)
	(Family Arial)
	(Height 18)
	([] Mods Bold)
)

(Font 
	(Id CarouselFont)
	(Family Arial)
	(Height 16)
	([] Mods Bold)
)

(Portrait
// Panel descriptions serve as comments and also provide debugging information by marking a panel with a text string
	(Panel.Description OutermostDiv)
	
	// TopToBottom layout layouts out children vertically with the first child starting at the top line
	(Panel.Layout TopToBottom)
	
	// Child padding specifies the number of pixels betwen children
	(Panel.ChildPadding 4)
	
	// Expand the panel horizontally and vertically to match the parent.
	(Panel.ExpandH)
	(Panel.ExpandV)
	
	(Colour.Container.Top.Left Transparent)
	(Colour.Container.Bottom.Right Transparent)
	
	(Image "!textures/test/AI-castle.jpg")
	
	(#Recti Panel.Padding 10% 10% 5% 5%)
	:
	
	(GradientFill
		(Panel.ExpandH)
		(Panel.FixedHeight 40)
		(TopLeft gfTopLeft)
		(TopRight gfTopRight)
		(BottomLeft gfBottomLeft)
		(BottomRight gfBottomRight)
		(Fill Banner)
		:
		(Label
			// Search for the (Font... def) at the top of the file with the given Id
			(Font TitleFont)
			
			(Colour.Label Transparent)
			
			// Specifies the text string displayed in the label
			(Text "Options")
			
			// Add top and bottom padding, so that when we fit vertically the text does not appear flush with the edges
			(#Recti Panel.Padding 0 0 4 4)
			
			// Fit vertically, changes the size of the label to match the text
			(FitV true)
			
			// Expand the label horizontally to the full span of its parent
			(Panel.ExpandH)
		)
	)
	
	(Div
		(Panel.Description TitleVSpacer)
		(Panel.FixedWidth 40)
		(Panel.FixedHeight 5%)
		
		(Colour.Background Transparent)
		(Colour.Container.Background Transparent)
	)
	
	// Divs are divisions with minimal implementation. They are used to layout controls horizontally or vertically and render a background and edge. They do little else
	(Div 
		// Panel descriptions serve as comments and also provide debugging information by marking a panel with a text string
		(Panel.Description CentreFrame)
		
		// TopToBottom layout layouts out children vertically with the first child starting at the top line
		(Panel.Layout LeftToRight)
		
		(Colour.Container.Background Transparent)
		(Colour.Container.Top.Left Transparent)
		(Colour.Container.Bottom.Right Transparent)
		// Child padding specifies the number of pixels betwen children
		(Panel.ChildPadding 4)
		
		// Expand the panel horizontally and vertically to match the parent.
		(Panel.ExpandH)
		(Panel.ExpandV)
		
		// We dont need any padding here, so set all to zero
		(#Recti Panel.Padding 0 0 0 0)
		:
		
		(Div 
			(Panel.Description OptionsTabs)
			(Panel.Layout TopToBottom)
			(Panel.FixedWidth 20%)
			(Panel.ExpandV)
			(Colour.Container.Background Transparent)
			(Colour.Button.Shadow Black)
			(Colour.Button Transparent)
			(Colour.Button.Edge.Top.Left TabButtonTopLeftHilight)
			(Colour.Button.Edge.Bottom.Right TabButtonBottomRightHilight)
			(Panel.ChildPadding 4)
			(#Recti Panel.Padding 4 0 0 0)
			:
				
			(Button
				(#Recti Panel.Padding 8 0 0 8)
				(Panel.ExpandH)
				(FitTextV)
				(Font OptionButtonFont)
				(#Vec2i Text.Spacing 8 0)
				(Text.Alignment Left)
				(Text Graphics)
			)
			
			(Button
				(#Recti Panel.Padding 8 0 0 8)
				(Panel.ExpandH)
				(FitTextV)
				(Font OptionButtonFont)
				(#Vec2i Text.Spacing 8 0)
				(Text.Alignment Left)
				(Text UI)	
			)
			
			(Button
				(#Recti Panel.Padding 8 0 0 8)
				(Panel.ExpandH)
				(FitTextV)
				(Font OptionButtonFont)
				(#Vec2i Text.Spacing 8 0)
				(Text.Alignment Left)
				(Text Audio)	
			)
			
			(Button
				(#Recti Panel.Padding 8 0 0 8)
				(Panel.ExpandH)
				(FitTextV)
				(Font OptionButtonFont)
				(#Vec2i Text.Spacing 8 0)
				(Text.Alignment Left)
				(Text Gameplay)	
			)
			
			(Button
				(#Recti Panel.Padding 8 0 0 8)
				(Panel.ExpandH)
				(FitTextV)
				(Font OptionButtonFont)
				(#Vec2i Text.Spacing 8 0)
				(Text.Alignment Left)
				(Text Multiplayer)	
			)
		)
		
		(Div
			(Panel.Description "OptionsTabScreen")
			(Panel.Layout LeftToRight)
			(Panel.ExpandH)
			(Panel.ExpandV)
			(Colour.Container.Background Transparent)
			:
			
			// A veiwport has a client area that is offset by a scroll bar. The scroll range allows us to navigate to and from any offscreen elements
			(Viewport
				(Colour.Container.Background Translucent)
				(Colour.Container.Top.Left White)
				(Colour.Container.Bottom.Right LightGrey)
				(Colour.Background Transparent)
				(Panel.RectStyle Rounded)
				(Panel.CornerRadius 16)
			:
				// GameOptions is a procedurally generated list of controls for changing game options
				(GameOptions 
					(Colour.Carousel.Top.Left LightGrey)
					(Colour.Carousel.Bottom.Right LightGrey)
					(Colour.Carousel.DropDown Black)
					(Colour.GameOption.Top.Left Transparent)
					(Colour.GameOption.Bottom.Right Transparent)
					(Colour.GameOption.Background Transparent)
					(Colour.GameOption.ChildSpacer LightGrey)
					(Colour.Label Transparent)
					(Title.Style TitlesOnLeft)
					(Title.Alignment Left)
					(Title.Font SubOptionTitleFont)
					(Panel.RectStyle Rounded)
					(Panel.CornerRadius 8)
					
					// Multiplies the title font height to yield the title control height. (For TitleOnLeft this will define the row height)
					(Title.HeightMultiplier 1.75)
					
					// Multiplies the title font height to yield the title x spacing.
					(Title.XSpacingMultiplier 0.25)
					
					// Gives the padding of the carousel controls to their interior rectangle
					(#Recti Carousel.Padding 40 2 40 4)
					
					// Gives the padding of the carousel controls to their interior rectangle
					(#Recti Carousel.Button.Padding 12 12 12 12)
					
					// Determine which side of the control the numeric feedback is rendered at
					(Scalar.Guage.Alignment Left)
					
					// Offset from alignment edge to guage
					(#Vec2i Scalar.Guage.Spacing 4 4)
					
					// Gives the padding of the slider control slot to the slider control edges
					(#Recti Scalar.Slot.Padding 40 10 40 10)
					
					(Carousel.Font CarouselFont)
					(Carousel.Button.Font CarouselFont)
				
					// The Generate attribute determines which options are used to generate the children
					(Generate GraphicsOptions)
				)
			)
			
			(Div 
				(Panel.Description "HSpacer")
				(Panel.FixedWidth 20%)
				(Panel.FixedHeight 20%)
			)
		)
	)
	
	(Div
		(Panel.FixedHeight 60)
		(Panel.ExpandH)
		(Panel.Layout LeftToRight)
		(Panel.ChildPadding 20)
		(Colour.Button Translucent)
		(Colour.Container.Background Transparent)
		:
		
		(Button
			(Panel.RectStyle Rounded)
			(Panel.CornerRadius 4)
			(#Recti Panel.Padding 5 3 5 3)
			(FitTextV)
			(FitTextH)
			(Font SubOptionTitleFont)
			(Text Accept)	
		)
		
		(Button
			(Panel.RectStyle Rounded)
			(Panel.CornerRadius 4)
			(#Recti Panel.Padding 5 3 5 3)
			(FitTextV)
			(FitTextH)
			(Font SubOptionTitleFont)
			(Text Revert)
		)
		
		(Button
			(Panel.RectStyle Rounded)
			(Panel.CornerRadius 4)
			(#Recti Panel.Padding 5 3 5 3)
			(FitTextV)
			(FitTextH)
			(Font SubOptionTitleFont)
			(Text Back)	
		)
	)
)