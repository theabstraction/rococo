(namespace EntryPoint)
	(alias Main EntryPoint.Main)

(using Sys.Type)

(struct Vec4Map
	(map Int32 Vec4 a)
)

(struct Vec4
	(Int32 x y z w)
)

(method Vec4.Construct (Int32 x) (Int32 y) (Int32 z) -> : 
	(this.x = x) 
	(this.y = y) 
	(this.z = z)
	(this.w = 1)
) 

(function Main -> (Int32 result):
	(Vec4Map m)
	(map Int32 Vec4 a)
	(m.a = a)
	
	(m.a.Insert 45 Vec4 (1 2 3))
	(m.a.Insert 23 Vec4 (5 6 7))
	(m.a.Insert -6 Vec4 (8 9 10))
	
	(foreach n # m.a 
		(Vec4 v = & n)
		(result = (result + v.x))
	)
)