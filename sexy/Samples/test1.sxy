(namespace EntryPoint)
(using Sys.Maths)
(using EntryPoint)

(interface Sys.IFidelio
	(Id -> (Int32 id))
)

(class Fidelio (implements Sys.IFidelio))

(method Fidelio.Id -> (Int32 id): 
	(id = 12)
)

(method Fidelio.Construct -> : )

(factory Sys.Fidelio Sys.IFidelio :
	(construct Fidelio)
)

(class Operas (defines Sys.IOperas) (Sys.IFidelio f))

(method Operas.Construct (Sys.IFidelio f)-> : 
	(this.f = f)
)

(method Operas.ByBeethoven -> (Sys.IFidelio f): (f = this.f))

(factory Sys.Operas Sys.IOperas (Sys.IFidelio f): 
	(construct Operas f)
)
(function Main -> (Int32 result):	
	(Sys.IFidelio f (Sys.Fidelio))	
	(Sys.IOperas operas (Sys.Operas f))	
	(Sys.IFidelio bf = operas.ByBeethoven)
	(bf.Id -> result)
)	

(alias Main EntryPoint.Main)		