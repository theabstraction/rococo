(namespace EntryPoint)

(using EntryPoint)

(struct Magic (Int32 a)(Int32 b))

(archetype EntryPoint.IntToInt (Int32 x) -> (Int32 y))

(function Do (Magic magic)-> :
	(IntToInt f =
			(closure (Int32 x) -> (Int32 y):
				(magic.a = x)
			)
	)
	(f 7)
)

(function Main -> (Int32 result):
	(Magic magic = 1 2)
	(Do magic)
	(result = magic.a)
)
(alias Main EntryPoint.Main)
