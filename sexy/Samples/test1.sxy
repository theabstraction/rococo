(namespace EntryPoint)
(using EntryPoint)
(archetype EntryPoint.IntToInt (Int32 x) -> (Int32 y))

(class Dog (defines Sys.IDog)
	(Int32 id)
)

(archetype Sys.Void -> )

(method Dog.Bark -> (Int32 result):		
	(Sys.IDog dog = this)

	(Sys.Void f =
		 (closure -> :
			(result = this.id)
		 )
	)	

	(f)
)

(method Dog.Construct : (this.id = 4))

(factory Sys.NewDog Sys.IDog : (construct Dog))

(function Main -> (Int32 result):
	(Sys.IDog rover4 (Sys.NewDog))
	(rover4.Bark -> result)
)
(alias Main EntryPoint.Main)