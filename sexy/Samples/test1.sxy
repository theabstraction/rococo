(namespace EntryPoint)
 (alias Main EntryPoint.Main)

(using Sys.Type)

(namespace Bot)

(interface Bot.IRobotBrain (Id -> (Int32 id)))
(interface Bot.IRobot (Brain -> (Bot.IRobotBrain brain)))

(class Robot (implements Bot.IRobot) (Bot.IRobotBrain brain))
(class RobotBrain (implements Bot.IRobotBrain))

(method Robot.Construct : (this.brain = (Bot.NewBrain)))
(method RobotBrain.Construct : )
(method RobotBrain.Id -> (Int32 id): (id = 9000))
(method Robot.Brain -> (Bot.IRobotBrain brain): (brain = this.brain))
(factory Bot.NewRobot Bot.IRobot : (construct Robot))
(factory Bot.NewBrain Bot.IRobotBrain : (construct RobotBrain))

(function Main -> (Int32 exitCode):
	(Bot.IRobot robby (Bot.NewRobot))
	(Bot.IRobotBrain brain = robby.Brain)
	(brain.Id -> exitCode)
)