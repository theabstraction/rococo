(namespace EntryPoint)
	(alias Main EntryPoint.Main)

(using Sys.Type)

(struct Sanctuary (array Int32 kennelIds))

(method Sanctuary.Construct (Int32 capacity)
	-> (construct kennelIds capacity)		
	:
)

(function Main -> (Int32 result):
	(Sanctuary sanctuary (10) ) // Create a sanctuary with a capacity of 10 kennels
	(sanctuary.kennelIds 9 0) // Define and null the ten entries by setting entry 9 to 0

	(try
		(
			(foreach i k # (sanctuary.kennelIds 0 9) // Enumerate over all 10 kennels
				(Sys.Throw -1 "Test: foreach throw")
				(result += i) // Sum the index to result
			)
		)
	catch ex
		(
			(Sys.Print ex.Message)
			(result = 1999)
		)
	)
	(sanctuary.kennelIds.Pop)
)